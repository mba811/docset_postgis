<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Loader_Generate_Nation_Script</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="PostGIS 2.1.1 Manual"><link rel="up" href="Extras.html#Tiger_Geocoder" title="12.1. Tiger Geocoder"><link rel="prev" href="Loader_Generate_Script.html" title="Loader_Generate_Script"><link rel="next" href="Missing_Indexes_Generate_Script.html" title="Missing_Indexes_Generate_Script"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Loader_Generate_Nation_Script</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="Loader_Generate_Script.html">Prev</a> </td><th width="60%" align="center">12.1. Tiger Geocoder</th><td width="20%" align="right"> <a accesskey="n" href="Missing_Indexes_Generate_Script.html">Next</a></td></tr></table><hr></div><div class="refentry" title="Loader_Generate_Nation_Script"><a name="Loader_Generate_Nation_Script"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>Loader_Generate_Nation_Script &#8212; Generates a shell script for the specified platform that loads in the county and state lookup tables.</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <b class="fsfunc">loader_generate_nation_script</b>(</code>text <var class="pdparam">os</var><code>)</code>;</p></div></div><div class="refsection" title="Description"><a name="id617676"></a><h2>Description</h2><p>Generates a shell script for the specified platform that loads in the <code class="varname">county_all</code>, <code class="varname">county_all_lookup</code>, <code class="varname">state_all</code> tables into <code class="varname">tiger_data</code> schema.  These inherit respectively from the <code class="varname">county</code>, <code class="varname">county_lookup</code>, <code class="varname">state</code> tables in <code class="varname">tiger</code> schema.</p><p>It uses unzip on Linux (7-zip on Windows by default) and wget to do the downloading. It uses <a class="xref" href="using_postgis_dbmanagement.html#shp2pgsql_usage" title="4.4.2. shp2pgsql: Using the ESRI Shapefile Loader">Section 4.4.2, &#8220;shp2pgsql: Using the ESRI Shapefile Loader&#8221;</a> to load in the data. </p><p>It uses the following control tables <code class="varname">tiger.loader_platform</code>, <code class="varname">tiger.loader_variables</code>, and <code class="varname">tiger.loader_lookuptables</code> to control the process and different OS shell syntax variations.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">loader_variables</code> keeps track of various variables such as census site, year, data and staging schemas</p></li><li class="listitem"><p><code class="varname">loader_platform</code> profiles of various platforms and where the various executables are located.  Comes with windows and linux/unix. More can be added.</p></li><li class="listitem"><p><code class="varname">loader_lookuptables</code> each record defines a kind of table (state, county), whether to process records in it and how to load them in.  Defines the steps to import data, stage data, add, removes columns, indexes, and constraints for each.  Each table is prefixed with the state and inherits from a table in the tiger schema. e.g. creates <code class="varname">tiger_data.ma_faces</code> which inherits from <code class="varname">tiger.faces</code></p></li></ol></div><p>Availability: 2.1.0 </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>If you were running <code class="varname">tiger_2010</code> version and you want to reload as state with <code class="varname">tiger_2011</code>, you'll need to for the very first load generate and run drop statements <a class="xref" href="Drop_Nation_Tables_Generate_Script.html" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a> before you run this script.</p></td></tr></table></div></div><div class="refsection" title="Examples"><a name="id617808"></a><h2>Examples</h2><p>Generate script script to load nation data Windows.</p><pre class="programlisting">SELECT loader_generate_nation_script('windows'); </pre><p>Generate script to load up data for Linux/Unix systems.</p><pre class="programlisting">SELECT loader_generate_nation_script('sh'); </pre></div><div class="refsection" title="See Also"><a name="id617837"></a><h2>See Also</h2><p><a class="xref" href="Loader_Generate_Script.html" title="Loader_Generate_Script">Loader_Generate_Script</a></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="Loader_Generate_Script.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="Extras.html#Tiger_Geocoder">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="Missing_Indexes_Generate_Script.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Loader_Generate_Script </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Missing_Indexes_Generate_Script</td></tr></table></div></body></html>
